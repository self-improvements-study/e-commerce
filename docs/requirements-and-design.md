# 목표

e-커머스 상품 주문 서비스 구현

- 상품 주문에 필요한 메뉴 정보들을 구성하고 조회가 가능해야 합니다.
- 사용자는 상품을 여러개 선택해 주문할 수 있고, 미리 충전한 잔액을 이용합니다.
- 상품 주문 내역을 통해 판매량이 가장 높은 상품을 추천합니다.

# 1. 기능적 / 비기능적 요구사항

| 요구사항 명        | 상세 요구사항 정의                                                 | 유형 | 제약사항                                     |
|-----------------|----------------------------------------------------------------|-----|-------------------------------------------|
| 포인트 조회        | 사용자는 자신의 보유 포인트를 조회할 수 있어야 한다.                       | 기능 | 사용자는 자신의 포인트만 조회할 수 있어야 한다.       |
| 포인트 충전        | 사용자는 보유 포인트를 충전할 수 있어야 한다.                            | 기능  | 충전 시 동시성 이슈가 발생하지 않도록 해야 한다.     |
| 포인트 내역 조회    | 사용자는 자신의 포인트 충전 및 사용 내역을 조회할 수 있어야 한다.             | 기능  | 사용자의 포인트 내역만 조회할 수 있어야 한다.       |
| 상품 조회          | 사용자는 등록된 상품 조회할 수 있어야 한다.                             | 기능  | |
| 판매 우수 상품 조회  | 사용자는 최근 3일간 판매량이 높은 상위 5개 상품 정보를 조회할 수 있어야 한다.   | 기능  | |
| 상품 주문          | 사용자는 상품을 주문할 수 있어야 한다.                                 | 기능  | - 동시 주문 요청이 발생해도 재고 부족 문제가 발생하지 않도록 해야 한다.<br>- 포인트 결제 시 보유 포인트보다 많은 금액을 사용할 수 없다.|
| 주문 내역 조회      | 사용자는 자신의 주문 내역을 조회할 수 있어야 한다.                        | 기능  | 사용자는 자신의 주문 내역만 조회할 수 있어야 한다.|
| 주문 상세 조회      | 사용자는 자신의 주문 상세 내역을 조회할 수 있어야 한다.                        | 기능  | 사용자는 자신의 주문 상세 내역만 조회할 수 있어야 한다.|
| 주문 결제          | 사용자는 주문한 상품을 결제할 수 있어야 한다.                             | 기능 | 결제 진행 중에는 주문 상태가 변경되지 않도록 해야 한다.|
| 쿠폰 발급          | 사용자는 선착순으로 할인 쿠폰을 발급받을 수 있다.                         | 기능  | 동일한 쿠폰을 중복 발급할 수 없다.|
| 유저 쿠폰 조회      | 사용자는 보유한 쿠폰 목록을 조회할 수 있어야 한다.                        | 기능  | 사용자는 자신의 쿠폰만 조회할 수 있어야 한다.|
|성능               |포인트 조회, 충전, 사용 등 주요 API 응답 시간은 1초 이내여야 한다.          | 비기능 ||
|동시성             |- 다수의 사용자가 동시에 포인트를 충전하거나 사용할 때 데이터 정합성이 보장되어야 한다.<br>- 동시 주문 요청 시 재고 부족 문제가 발생하지 않도록 동시성 제어가 필요하다. |비기능||

# 2. 유즈케이스

![image](https://github.com/user-attachments/assets/be6cc1c8-f5ad-456e-aedf-0ecb8377c39b)

# 3. 도메인 다이어그램

![img.png](img.png)![image](https://github.com/user-attachments/assets/6262b24c-dee9-4551-983f-3f7980cb34c2)

## 정책
- 최대 보유 포인트는 1,000,000원이다.
- 주문 요청 완료 후 5분 이내로 결제가 진행되지 않으면 주문을 취소한다.
- 인기 상품 조회는 해당일 00시 3일 동안 가장 많이 주문된 상품 5가지를 조회한다.
- 쿠폰은 개별 상품에만 적용 가능하다.
- 상품 가격보다 쿠폰 할인 금액이 클 시 해당 쿠폰은 적용 불가
- 사용자는 쿠폰을 중복 발급 받을수 없다.